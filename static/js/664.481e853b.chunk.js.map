{"version":3,"file":"static/js/664.481e853b.chunk.js","mappings":"uQACA,EAA+B,4BAA/B,EAAsE,wBAAtE,EAAwG,uBAAxG,EAA2I,yBAA3I,EAA2K,oB,SC2F3K,EAtFc,WAAO,IAAD,IACRA,GAAOC,EAAAA,EAAAA,MAAPD,GACR,GAAwCE,EAAAA,EAAAA,UAAS,IAAjD,eAAOC,EAAP,KAAqBC,EAArB,KACAC,QAAQC,IAAIN,GACZ,IAAMO,GAAWC,EAAAA,EAAAA,MACXC,GAAkBC,EAAAA,EAAAA,QAAM,oBAACH,EAASI,aAAV,aAAC,EAAgBC,YAAjB,QAAyB,MAEvDC,EAAAA,EAAAA,YAAU,WACF,IAAMC,EAAkB,IAAIC,gBADpB,wCAEhB,sGAEcC,EAFd,UAEuBC,EAAAA,GAFvB,iBAEwCjB,EAFxC,YAE8CkB,EAAAA,IAF9C,SAG+BC,EAAAA,EAAAA,IAAUH,EAAK,CAClCI,OAAQN,EAAgBM,SAJpC,OAGcC,EAHd,OAMQjB,EAAgBiB,EAASC,MANjC,gDAQIjB,QAAQC,IAAI,KAAMiB,SARtB,0DAFgB,sBAehB,OAfgB,mCAaZC,GAEG,WACLV,EAAgBW,OACjB,CACA,GAAE,CAACzB,IAEJ,IAAQ0B,EAAuDvB,EAAvDuB,MAAOC,EAAgDxB,EAAhDwB,aAAcC,EAAkCzB,EAAlCyB,SAAUC,EAAwB1B,EAAxB0B,YAAaC,EAAW3B,EAAX2B,OAC9CC,EAAuB,GAAfJ,EACRK,EAAaF,GAAUA,EAAOG,KAAI,SAAAC,GAAK,OAAIA,EAAMC,IAAV,IAAgBC,KAAK,KAElE,OAAO,iCACH,SAAC,KAAD,CAAMC,UAAWC,EAAcC,GAAI9B,EAAgB+B,QAAnD,wBACA,iBAAKH,UAAWC,EAAhB,UACKT,GACD,gBAAKQ,UAAWC,EAChBG,IAAG,UAAKC,EAAAA,GAAL,gBAA2Bb,GAC9Bc,IAAKjB,KAGP,gBACEe,IAAKG,EAAAA,GACLD,IAAKjB,KAGL,iBAAKW,UAAWC,EAAhB,WACI,wBACKZ,KAEL,wCACaK,EADb,QAGA,sCAGA,uBACKH,KAEL,oCAGA,uBACKI,WAKb,2BACI,oDACA,eAAIK,UAAWC,EAAf,UACI,SAAC,KAAD,CAASC,GAAG,OAAZ,qBAIJ,eAAIF,UAAWC,EAAf,UACI,SAAC,KAAD,CAASC,GAAG,UAAZ,2BAKR,SAAC,EAAAM,SAAD,WACE,SAAC,KAAD,QAGT,C","sources":["webpack://react-homework-template/./src/pages/movie.module.css?8045","pages/movie.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"movieDetails\":\"movie_movieDetails__J6J8r\",\"backLink\":\"movie_backLink__AlCEL\",\"details\":\"movie_details__wUR5g\",\"movieInfo\":\"movie_movieInfo__a4Bbk\",\"link\":\"movie_link__0pnlp\"};","import { Suspense, useEffect, useRef, useState } from \"react\"\nimport { NavLink, useParams, Outlet, Link, useLocation } from \"react-router-dom\"\nimport { BASE_URL, API_KEY, IMAGE_BASE_URL, noImage } from '../components/url';\nimport axios from 'axios';\nimport css from './movie.module.css'\n\nconst Movie = () => {\n    const { id } = useParams()\n    const [movieDetails, setMovieDetails] = useState([]);\n    console.log(id)\n    const location = useLocation()\n    const backLocationRef = useRef(location.state?.from ?? '/')\n\n    useEffect(() => {\n            const abortController = new AbortController();\n    async function fetchData() {\n        try {\n            const url = `${BASE_URL}movie/${id}?${API_KEY}`;\n            const response = await axios.get(url, {\n                signal: abortController.signal,\n            });\n            setMovieDetails(response.data);\n      } catch (error) {\n        console.log(error.message);\n      }\n    }\n        fetchData();\n\n    return () => {\n      abortController.abort();\n    };\n    }, [id]);\n\n    const { title, vote_average, overview, poster_path, genres } = movieDetails\n    const score = vote_average * 10\n    const genreNames = genres && genres.map(genre => genre.name).join(' ');\n\n    return <>\n        <Link className={css.backLink} to={backLocationRef.current} >Come back</Link>\n        <div className={css.movieDetails}>\n            {poster_path ? (\n            <img className={css.details}\n            src={`${IMAGE_BASE_URL}w500/${poster_path}`}\n            alt={title}\n          />\n        ) : (\n          <img\n            src={noImage}\n            alt={title}\n          />\n        )}\n            <div className={css.movieInfo}>\n                <h1>\n                    {title}\n                </h1>\n                <p>\n                User Score: {score}%\n                </p>\n                <h2>\n                    Overview\n                </h2>\n                <p>\n                    {overview}\n                </p>\n                <h2>\n                    Genres\n                </h2>\n                <p>\n                    {genreNames}\n                </p>\n            </div>\n        </div>\n\n        <ul>\n            <p> Additional information</p>\n            <li className={css.link}>\n                <NavLink to='cast'>\n                    Cast\n                </NavLink>                \n            </li>\n            <li className={css.link}>\n                <NavLink to='reviews'>\n                  Reviews\n                </NavLink>        \n            </li>\n        </ul>\n        <Suspense>\n          <Outlet />             \n        </Suspense>\n    </>\n}\n\nexport default Movie"],"names":["id","useParams","useState","movieDetails","setMovieDetails","console","log","location","useLocation","backLocationRef","useRef","state","from","useEffect","abortController","AbortController","url","BASE_URL","API_KEY","axios","signal","response","data","message","fetchData","abort","title","vote_average","overview","poster_path","genres","score","genreNames","map","genre","name","join","className","css","to","current","src","IMAGE_BASE_URL","alt","noImage","Suspense"],"sourceRoot":""}