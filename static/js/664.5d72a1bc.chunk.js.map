{"version":3,"file":"static/js/664.5d72a1bc.chunk.js","mappings":"kRACA,EAA+B,4BAA/B,EAAsE,wBAAtE,EAAwG,uBAAxG,EAA2I,yBAA3I,EAA2K,oBAA3K,EAAyM,uB,kBCYnMA,GAAaC,EAAAA,EAAAA,IAAOC,EAAAA,GAAPD,CAAH,+DA6EhB,EAvEc,WAAO,IAAD,IACVE,GAAOC,EAAAA,EAAAA,MAAPD,GACR,GAAwCE,EAAAA,EAAAA,UAAS,IAAjD,eAAOC,EAAP,KAAqBC,EAArB,KACMC,GAAWC,EAAAA,EAAAA,MACXC,GAAkBC,EAAAA,EAAAA,QAAM,oBAACH,EAASI,aAAV,aAAC,EAAgBC,YAAjB,QAAyB,MAEvDC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAkB,IAAIC,gBADd,wCAEd,sGAEUC,EAFV,UAEmBC,EAAAA,GAFnB,iBAEoCf,EAFpC,YAE0CgB,EAAAA,IAF1C,SAG2BC,EAAAA,EAAAA,IAAUH,EAAK,CACpCI,OAAQN,EAAgBM,SAJ9B,OAGUC,EAHV,OAMIf,EAAgBe,EAASC,MAN7B,gDAQIC,QAAQC,IAAI,KAAMC,SARtB,0DAFc,sBAed,OAfc,mCAadC,GAEO,WACLZ,EAAgBa,OACjB,CACF,GAAE,CAACzB,IAEJ,IAAQ0B,EAAuDvB,EAAvDuB,MAAOC,EAAgDxB,EAAhDwB,aAAcC,EAAkCzB,EAAlCyB,SAAUC,EAAwB1B,EAAxB0B,YAAaC,EAAW3B,EAAX2B,OAC9CC,EAAuB,GAAfJ,EACRK,EAAaF,GAAUA,EAAOG,KAAI,SAAAC,GAAK,OAAIA,EAAMC,IAAV,IAAgBC,KAAK,KAElE,OACE,iCACE,SAAC,KAAD,CAAMC,UAAWC,EAAcC,GAAIhC,EAAgBiC,QAAnD,wBAGA,iBAAKH,UAAWC,EAAhB,UACGT,GACC,gBACEQ,UAAWC,EACXG,IAAG,UAAKC,EAAAA,GAAL,gBAA2Bb,GAC9Bc,IAAKjB,KAGP,gBAAKe,IAAKG,EAAAA,GAASD,IAAKjB,KAE1B,iBAAKW,UAAWC,EAAhB,WACE,wBAAKZ,KACL,wCAAgBK,EAAhB,QACA,sCACA,uBAAIH,KACJ,oCACA,uBAAII,WAIR,gBAAIK,UAAWC,EAAf,WACE,oDACA,eAAID,UAAWC,EAAf,UACE,SAACzC,EAAD,CAAY0C,GAAG,OAAf,qBAEF,eAAIF,UAAWC,EAAf,UACE,SAACzC,EAAD,CAAY0C,GAAG,UAAf,2BAGJ,SAAC,EAAAM,SAAD,WACE,SAAC,KAAD,QAIP,C","sources":["webpack://react-homework-template/./src/pages/movie.module.css?8045","pages/movie.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"movieDetails\":\"movie_movieDetails__J6J8r\",\"backLink\":\"movie_backLink__AlCEL\",\"details\":\"movie_details__wUR5g\",\"movieInfo\":\"movie_movieInfo__a4Bbk\",\"link\":\"movie_link__0pnlp\",\"addInfo\":\"movie_addInfo__KrVwx\"};","import { Suspense, useEffect, useRef, useState } from 'react';\nimport {\n  NavLink,\n  useParams,\n  Outlet,\n  Link,\n  useLocation,\n} from 'react-router-dom';\nimport { BASE_URL, API_KEY, IMAGE_BASE_URL, noImage } from '../components/url';\nimport axios from 'axios';\nimport css from './movie.module.css';\nimport styled from 'styled-components';\n\nconst StyledLink = styled(NavLink)`\n  &.active {\n    color: tomato;\n  }\n`;\n\nconst Movie = () => {\n  const { id } = useParams();\n  const [movieDetails, setMovieDetails] = useState([]);\n  const location = useLocation();\n  const backLocationRef = useRef(location.state?.from ?? '/');\n\n  useEffect(() => {\n    const abortController = new AbortController();\n    async function fetchData() {\n      try {\n        const url = `${BASE_URL}movie/${id}?${API_KEY}`;\n        const response = await axios.get(url, {\n          signal: abortController.signal,\n        });\n        setMovieDetails(response.data);\n      } catch (error) {\n        console.log(error.message);\n      }\n    }\n    fetchData();\n\n    return () => {\n      abortController.abort();\n    };\n  }, [id]);\n\n  const { title, vote_average, overview, poster_path, genres } = movieDetails;\n  const score = vote_average * 10;\n  const genreNames = genres && genres.map(genre => genre.name).join(' ');\n\n  return (\n    <>\n      <Link className={css.backLink} to={backLocationRef.current}>\n        Come back\n      </Link>\n      <div className={css.movieDetails}>\n        {poster_path ? (\n          <img\n            className={css.details}\n            src={`${IMAGE_BASE_URL}w500/${poster_path}`}\n            alt={title}\n          />\n        ) : (\n          <img src={noImage} alt={title} />\n        )}\n        <div className={css.movieInfo}>\n          <h1>{title}</h1>\n          <p>User Score: {score}%</p>\n          <h2>Overview</h2>\n          <p>{overview}</p>\n          <h2>Genres</h2>\n          <p>{genreNames}</p>\n        </div>\n      </div>\n\n      <ul className={css.addInfo}>\n        <p> Additional information</p>\n        <li className={css.link}>\n          <StyledLink to=\"cast\">Cast</StyledLink>\n        </li>\n        <li className={css.link}>\n          <StyledLink to=\"reviews\">Reviews</StyledLink>\n        </li>\n      </ul>\n      <Suspense>\n        <Outlet />\n      </Suspense>\n    </>\n  );\n};\n\nexport default Movie;\n"],"names":["StyledLink","styled","NavLink","id","useParams","useState","movieDetails","setMovieDetails","location","useLocation","backLocationRef","useRef","state","from","useEffect","abortController","AbortController","url","BASE_URL","API_KEY","axios","signal","response","data","console","log","message","fetchData","abort","title","vote_average","overview","poster_path","genres","score","genreNames","map","genre","name","join","className","css","to","current","src","IMAGE_BASE_URL","alt","noImage","Suspense"],"sourceRoot":""}