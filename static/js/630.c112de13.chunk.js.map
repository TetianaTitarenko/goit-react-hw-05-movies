{"version":3,"file":"static/js/630.c112de13.chunk.js","mappings":"iOA0DA,UAjDe,WAAO,IAAD,EACnB,GAA4BA,EAAAA,EAAAA,UAAS,IAArC,eAAOC,EAAP,KAAeC,EAAf,KACMC,GAAWC,EAAAA,EAAAA,MACjB,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMC,EAAC,UAAGF,EAAaG,IAAI,YAApB,QAA4B,GA4BzBC,EAAgBT,EAAOU,QAAO,SAACC,GAAD,OACpCA,EAAMC,MAAMC,cAAcC,SAASP,EAAEM,cADD,IAItC,OAAW,4BACT,mCACA,kBAAME,SAhCS,SAAAC,GACfA,EAAEC,iBACF,IAAMC,EAAkB,IAAIC,gBAFR,wCAGtB,sGAEUC,EAFV,0DAEmEb,EAFnE,6DAG2Bc,EAAAA,EAAAA,IAAUD,EAAK,CACpCE,OAAQJ,EAAgBI,SAJ9B,OAGUC,EAHV,OAMMtB,EAAUsB,EAASC,KAAKC,SAN9B,gDAQIC,QAAQC,IAAI,KAAMC,SARtB,0DAHsB,sBAetB,OAfsB,mCActBC,GACO,WACLX,EAAgBY,OACjB,CAEA,EAaC,WACE,kBAAOC,KAAK,OAAOC,MAAOzB,EAAG0B,SAbP,SAAAjB,GACxB,GAAuB,KAAnBA,EAAEkB,OAAOF,MACX,OAAO1B,EAAgB,CAAC,GAE1BA,EAAgB,CAACC,EAAIS,EAAEkB,OAAOF,OAC/B,KASG,mBAAQD,KAAK,SAAb,uBAGCtB,EAAc0B,KAAI,SAACxB,GAAD,OAAY,yBAC3B,SAAC,KAAD,CAAMyB,GAAE,UAAKzB,EAAM0B,IAAMC,MAAO,CAACC,KAAMrC,GAAvC,SAAmDS,EAAMC,SADrBD,EAAM0B,GAA3B,MAI1B,C","sources":["pages/search.js"],"sourcesContent":["import { useState} from \"react\"\nimport { Link, useLocation, useSearchParams } from \"react-router-dom\";\nimport axios from 'axios';\n// const API_KEY = '88e770eb9f81181b32f3aee56f617fc7';\n// const BASE_URL = 'https://api.themoviedb.org/3';\n// const TREND_URL = `${BASE_URL}/trending/movie/week`;\n// const SEARCH_URL = `${BASE_URL}/search/movie`;\n// const MOVIE_DETAILS_URL = `${BASE_URL}/movie/`;\n// const IMAGE_BASE_URL = 'https://image.tmdb.org/t/p/w500';\nconst Search = () => {\n  const [movies, setMovies] = useState([]);\n  const location = useLocation()\n  const [searchParams, setSearchParams] = useSearchParams();\n  const q = searchParams.get(\"q\") ?? '';\n\n    const onSubmit = e => {\n      e.preventDefault();\n      const abortController = new AbortController();\n    async function fetchData() {\n      try {\n        const url = `https://api.themoviedb.org/3/search/movie?query=${q}&api_key=88e770eb9f81181b32f3aee56f617fc7&page=1`;\n        const response = await axios.get(url, {\n          signal: abortController.signal,\n        });\n          setMovies(response.data.results);\n      } catch (error) {\n        console.log(error.message);\n      }\n    }\n    fetchData();\n    return () => {\n      abortController.abort();\n    };\n      // console.log(q)\n    }\n    const updateQueryString = e => {\n      if (e.target.value === '') {\n        return setSearchParams({});\n      }\n      setSearchParams({q : e.target.value });\n    };\n      const visibleMovies = movies.filter((movie) =>\n      movie.title.toLowerCase().includes(q.toLowerCase())\n    );\n\n    return     <div>\n      <h1>Movie</h1>\n      <form onSubmit={onSubmit}>\n        <input type=\"text\" value={q} onChange={updateQueryString}/>\n        <button type=\"submit\">Search</button>\n      </form>\n\n        {visibleMovies.map((movie) => (<ul key={movie.id}>\n            <Link to={`${movie.id}`} state={{from: location}}>{movie.title}</Link>\n        </ul>))}\n    </div>\n}\n\nexport default Search"],"names":["useState","movies","setMovies","location","useLocation","useSearchParams","searchParams","setSearchParams","q","get","visibleMovies","filter","movie","title","toLowerCase","includes","onSubmit","e","preventDefault","abortController","AbortController","url","axios","signal","response","data","results","console","log","message","fetchData","abort","type","value","onChange","target","map","to","id","state","from"],"sourceRoot":""}